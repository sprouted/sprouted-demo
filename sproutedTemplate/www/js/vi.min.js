/*! vi HTML SDK - v1.0.0 */
"use strict";!function(a,b,c){function d(a,b){var c,d=Math.min(a,b);return c=d>=1080?{bL:54,bB:54,bW:100,bH:100,mR:54,mB:54,mW:100,mH:100,sT:54,sR:54,sW:100,sH:100,pH:9}:d>=720?{bL:36,bB:36,bW:70,bH:70,mR:36,mB:36,mW:70,mH:70,sT:36,sR:36,sW:70,sH:70,pH:6}:d>=540?{bL:27,bB:27,bW:52,bH:52,mR:27,mB:27,mW:52,mH:52,sT:27,sR:27,sW:52,sH:52,pH:5}:d>=480?{bL:24,bB:24,bW:47,bH:47,mR:24,mB:24,mW:47,mH:47,sT:24,sR:24,sW:47,sH:47,pH:4}:{bL:18,bB:18,bW:35,bH:35,mR:18,mB:18,mW:35,mH:35,sT:18,sR:18,sW:35,sH:35,pH:3},c.mOn="http://c.vi-serve.com/viadshtml/vi_soundon.png",c.mOf="http://c.vi-serve.com/viadshtml/vi_soundoff.png",c.sI="http://c.vi-serve.com/viadshtml/vi_skip.png",c.bI="http://c.vi-serve.com/viadshtml/vi_logo.png",c}function e(a,b){if(!(b>1)){console.log("[vi] "+a)}}var f={},g=null;f.Ad=function(a){if(this.vpaidFrame=null,this.params={showProgress:!0,showBranding:!0,showMute:!1,startMuted:!1,showSkip:!0,showSkipCountdown:!1,skipTime:4,handleKeys:!0,videoSlot:null},a&&"[object Object]"===Object.prototype.toString.call(a))for(var b in a)a.hasOwnProperty(b)&&(this.params[b]=a[b])},f.Ad.prototype.initAd=function(){var a=this,c=b.createElement("iframe");c.id="viAd",c.frameBorder=0,c.scrolling="no",c.style.display="none",c.onload=function(){var b=c.contentWindow.document,f=b.createElement("div");f.id="adC",f.setAttribute("style","position: absolute; width: 100%; height: 100%; top: 0; left: 0; overflow: hidden;");var h=a.params.videoSlot;h||(h=b.createElement("video"),h.id="adV",h.playsInline=!0,h.setAttribute("webkit-playsinline",""),h.setAttribute("style","width: 100%; height: 100%"),h.type="video/mp4",f.appendChild(h)),a.params.startMuted&&(h.muted=!0),b.body.appendChild(f);var i=d(a.params.width||1280,a.params.height||720);if(a.params.showMute){var j=b.createElement("img");j.id="mb",j.setAttribute("style","position: absolute; bottom: "+i.mB+"px; right: "+i.mR+"px; width: "+i.mW+"px; height: "+i.mH+"px;"),j.src=a.params.startMuted?i.mOn:i.mOf,b.body.appendChild(j)}if(a.params.showSkip){var k=b.createElement("img");k.id="sb",k.setAttribute("style","position: absolute; top: "+i.sT+"px; right: "+i.sR+"px; width: "+i.sW+"px; height: "+i.sH+"px;"),k.src=i.sI,b.body.appendChild(k)}if(a.params.showBranding){var l=b.createElement("img");l.id="vl",l.setAttribute("style","position: absolute; left: "+i.bL+"px; bottom: "+i.bB+"px; width: "+i.bW+"px; height: "+i.bH+"px;"),l.src=i.bI,b.body.appendChild(l)}if(a.params.showProgress){var m=b.createElement("div");m.id="pb",m.setAttribute("style","background-color: rgba(255,255,255,0.3); position: absolute; left: 0; bottom: 0; width: 100%; height: "+i.pH+"px;");var n=b.createElement("div");n.id="ps",n.setAttribute("style","display: inline-block; background-color: #fff200; position: absolute; left: 0; height: "+i.pH+"px;"),m.appendChild(n),b.body.appendChild(m)}g=function(b){var c=b&&b.target;c&&("mb"===c.id?h.muted?(h.muted=!1,j.src=i.mOf):(h.muted=!0,j.src=i.mOn):"sb"===c.id&&a.vpaidAdUnit.stopAd())},b.addEventListener("click",g,!1);var o=b.createElement("script");o.src="http://c.vi-serve.com/viadshtml/viFrame.min.js",o.onload=function(){var b=c.contentWindow.getVPAIDAd();b.subscribe(function(){e("Event: AdLoaded",1),"function"==typeof a.onAdReady&&a.onAdReady()},"AdLoaded"),b.subscribe(function(){e("Event: AdVideoStart",1),"function"==typeof a.onAdStarted&&a.onAdStarted()},"AdVideoStart"),b.subscribe(function(){e("Event: AdImpression",1),"function"==typeof a.onAdImpression&&a.onAdImpression()},"AdImpression"),b.subscribe(function(b){e("Event: AdClickThru",1),"function"==typeof a.onAdClick&&a.onAdClick(b)},"AdClickThru"),b.subscribe(function(b){e("Event: AdStopped ("+b+")",1),a.cleanup(),"function"==typeof a.onAdStopped&&a.onAdStopped(b)},"AdStopped"),b.subscribe(function(b,c){e("Event: AdError / "+b,c),a.cleanup(),"function"==typeof a.onAdError&&a.onAdError(b)},"AdError"),b.subscribe(function(a,b){e("Event: AdLog / "+a,b)},"AdLog"),b.subscribe(function(b,c){e("Event: AdAutoPlayFailed",1),"function"==typeof a.onAutoPlayFailed&&a.onAutoPlayFailed(b,c)},"AdAutoPlayFailed");var d={slot:f,videoSlot:h,VI_PLACEMENT_ID:a.params.placementId,VI_APP_ID:a.params.appId,VI_APP_VER:a.params.appVer};a.params.ip&&(d.VI_IP=a.params.ip),a.params.manufacturer&&(d.VI_MANUFACTURER=a.params.manufacturer),a.params.model&&(d.VI_MODEL=a.params.model),a.params.connectionType&&(d.VI_CON_TYPE=a.params.connectionType),a.params.connectionProvider&&(d.VI_CON_PROVIDER=a.params.connectionProvider),a.params.language&&(d.VI_LANG=a.params.language),a.params.width&&(d.VI_WIDTH=a.params.width),a.params.height&&(d.VI_HEIGHT=a.params.height),a.params.os&&(d.VI_OS=a.params.os),a.params.osVersion&&(d.VI_OS_VERSION=a.params.osVersion),a.params.orientation&&(d.VI_ORIENTATION=a.params.orientation),a.params.age&&(d.VI_AGE=a.params.age),a.params.gender&&(d.VI_GENDER=a.params.gender),a.params.advertiserId&&(d.VI_ADVERTISER_ID=a.params.advertiserId),a.params.latitude&&(d.VI_LAT=a.params.latitude),a.params.longitude&&(d.VI_LONG=a.params.longitude),a.params.accuracy&&(d.VI_ACCURACY=a.params.accuracy),b.initAd(a.params.width,a.params.height,"normal",600,{},d),a.vpaidAdUnit=b},b.body.appendChild(o)},b.body.appendChild(c),this.vpaidFrame=c},f.Ad.prototype.startAd=function(){this.vpaidFrame.setAttribute("style","width: "+(this.params.width||1280)+"px; height: "+(this.params.height||720)+"px; position: absolute; top: 0; left: 0; z-index: 998;"),this.vpaidAdUnit&&this.vpaidAdUnit.startAd()},f.Ad.prototype.pauseAd=function(){this.vpaidAdUnit&&this.vpaidAdUnit.pauseAd()},f.Ad.prototype.resumeAd=function(){this.vpaidAdUnit&&this.vpaidAdUnit.resumeAd()},f.Ad.prototype.stopAd=function(){this.vpaidAdUnit&&this.vpaidAdUnit.stopAd()},f.Ad.prototype.cleanup=function(){g&&(this.vpaidFrame.contentWindow.document.removeEventListener("click",g,!1),g=null),this.vpaidFrame.onload=this.vpaidAdUnit=null,this.vpaidFrame.parentNode&&this.vpaidFrame.parentNode.removeChild(this.vpaidFrame),this.vpaidFrame=null},f.Ad.prototype.onAdReady=null,f.Ad.prototype.onAutoPlayFailed=null,f.Ad.prototype.onAdStarted=null,f.Ad.prototype.onAdImpression=null,f.Ad.prototype.onAdClick=null,f.Ad.prototype.onAdStopped=null,f.Ad.prototype.onAdError=null,a.vi=f}(window,window.document);
